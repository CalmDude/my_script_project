# Folder Organization

Clean folder structure for the Portfolio Analyser project.

## Directory Structure

```
portfolio_analyser/
├── backtest_results/          # Backtest analysis results (CSVs)
│   ├── README.md
│   ├── actual_strategy_combinations.csv
│   ├── backtest_results_oct_dec_2024.csv
│   ├── backtest_strategy1_results.csv
│   ├── backtest_strategy1_summary.csv
│   └── backtest_summary_oct_dec_2024.csv
│
├── config/                    # Configuration files
│   ├── email_config.json.example
│   └── protection.json
│
├── data/                      # User data (holdings, transactions)
│   ├── holdings.csv
│   ├── signal_history.csv
│   ├── stocks.txt
│   ├── targets.csv
│   └── transactions.csv
│
├── docs/                      # Documentation
│   ├── BACKTEST_QUICK_REFERENCE.md
│   ├── BEST_TRADES_GUIDE.md
│   ├── BUY_SELL_LOGIC.md
│   ├── HISTORICAL_BACKTESTING.md
│   ├── IMPLEMENTATION_SUMMARY.md
│   ├── PORTFOLIO_UI.md
│   ├── SCANNER_ANALYSIS_GUIDE.md
│   ├── STRATEGY1_REALITY_CHECK.md      # 5-year backtest analysis
│   ├── TRANSACTION_LOGIC.md
│   └── WIN_RATE_ANALYSIS_SUMMARY.md    # Oct-Dec 2024 analysis
│
├── notebooks/                 # Jupyter notebooks for analysis
│   ├── backtest_watchlist.ipynb
│   ├── full_scanner.ipynb
│   ├── portfolio_analysis.ipynb
│   └── ticker_ranking.ipynb
│
├── portfolio_results/         # Portfolio analysis outputs
│   └── archive/
│
├── scanner_results/           # Scanner outputs
│   ├── archive/
│   ├── historical_simulation/ # Historical backtest data (2021-2025)
│   ├── nasdaq100/
│   ├── portfolio/
│   └── sp500/
│
├── scripts/                   # Utility scripts
│   ├── analysis/              # Research & backtest analysis
│   │   ├── README.md
│   │   ├── backtest_strategy1.py
│   │   └── find_actual_strategies.py
│   │
│   ├── backup_and_push.ps1
│   ├── backup_full.ps1
│   ├── check_ui.ps1
│   ├── setup_automation.ps1
│   ├── start_ui.ps1
│   └── stop_ui.ps1
│
├── src/                       # Core source code
│   ├── backtest_watchlist.py
│   ├── constants.py
│   ├── data_validation.py
│   ├── full_scanner.py
│   ├── generate_historical_reports.py
│   ├── portfolio_reports.py
│   ├── portfolio_ui.py
│   ├── run_portfolio_analysis.py
│   ├── signal_tracker.py
│   └── technical_analysis.py
│
├── tests/                     # Unit tests
│   └── test_analyze_ticker.py
│
├── test_historical_price.py   # Ad-hoc test scripts (root level)
├── test_historical_scan.py
├── test_qcom_details.py
│
├── .gitignore
├── README.md
└── requirements.txt
```

## Key Folders Explained

### `backtest_results/`
Contains all historical backtest analysis results in CSV format. Generated by notebooks and analysis scripts.

### `scripts/analysis/`
Specialized Python scripts for strategy research and backtesting. These are research tools, not production code.

**Scripts:**
- `backtest_strategy1.py` - Tests specific strategy filters
- `find_actual_strategies.py` - Explores all filter combinations

### `docs/`
All project documentation including strategy analyses, implementation guides, and user documentation.

**Key Documents:**
- `STRATEGY1_REALITY_CHECK.md` - Shows why 5-year data differs from short sample
- `WIN_RATE_ANALYSIS_SUMMARY.md` - Original Oct-Dec 2024 analysis
- `SCANNER_ANALYSIS_GUIDE.md` - Complete technical reference for scanner logic

### `src/`
Production code - the core system modules used by notebooks and UI.

### `scanner_results/historical_simulation/`
Historical watchlist data (2021-2025) used for backtesting. Generated by `generate_historical_reports.py`.

## Cleaned Up

The following temporary/exploratory scripts were removed:
- `analyze_filtered_strategies.py` - Initial exploration (superseded)
- `analyze_high_win_rate.py` - Early analysis (superseded)
- `find_winning_filters.py` - Filter exploration (superseded)
- `final_win_rate_analysis.py` - Summary (superseded)
- `inspect_backtest_data.py` - Debugging script (temporary)

Results consolidated into `backtest_results/` with proper documentation.

## Usage Patterns

### For Analysis Work
```bash
# Run strategy backtest
python scripts/analysis/backtest_strategy1.py

# Find best strategies
python scripts/analysis/find_actual_strategies.py

# Interactive analysis
jupyter notebook notebooks/backtest_watchlist.ipynb
```

### For Production Scanning
```bash
# Full scanner
jupyter notebook notebooks/full_scanner.ipynb

# Portfolio analysis
jupyter notebook notebooks/portfolio_analysis.ipynb

# Or via UI
python src/portfolio_ui.py
```

### For Historical Data Generation
```bash
# Generate 5 years of historical data
python src/generate_historical_reports.py --start 2021-01-04 --end 2026-01-01 --interval 7 --category nasdaq100
```

## File Organization Principles

1. **Scripts stay in `scripts/`** - Utility and automation
2. **Analysis scripts in `scripts/analysis/`** - Research tools
3. **Core logic in `src/`** - Production modules
4. **Results in dedicated folders** - `backtest_results/`, `scanner_results/`, `portfolio_results/`
5. **Docs in `docs/`** - All documentation
6. **Data in `data/`** - User-provided data only
7. **Notebooks in `notebooks/`** - Interactive analysis

## Maintenance

When adding new files:
- Analysis scripts → `scripts/analysis/`
- Results CSVs → `backtest_results/`
- Documentation → `docs/`
- Core features → `src/`
- Tests → `tests/`

Keep root directory clean - only essential config files and README.
