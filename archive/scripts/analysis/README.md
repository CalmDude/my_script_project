# Analysis Scripts

Specialized analysis scripts for backtesting and strategy research.

## Scripts

### `backtest_strategy1.py`
Tests Strategy 1 filters against historical watchlist data.

**Strategy 1 Filters:**
- Quality: EXCELLENT
- Rank: 6-15
- Entry Flag: SAFE ENTRY
- Vol R:R: >= 2.0

**Usage:**
```bash
python scripts/analysis/backtest_strategy1.py
```

**Output:**
- `backtest_results/backtest_strategy1_results.csv` - Trade-by-trade results
- `backtest_results/backtest_strategy1_summary.csv` - Performance summary

**Key Finding:** Strategy 1 filters are structurally impossible (EXCELLENT quality rarely appears in Rank 6-15).

---

### `find_actual_strategies.py`
Comprehensive analysis of all filter combinations to find strategies with high win rates.

**Tests Combinations:**
- EXCELLENT + SAFE ENTRY (various ranks)
- GOOD + SAFE ENTRY (various Vol R:R thresholds)
- Mixed quality with high Vol R:R requirements

**Usage:**
```bash
python scripts/analysis/find_actual_strategies.py
```

**Output:**
- `backtest_results/actual_strategy_combinations.csv` - All combinations sorted by win rate
- Console output with detailed statistics

**Key Finding:** Best achievable win rate over 5 years is ~43% (not 70-80% as Oct-Dec 2024 suggested).

---

## Related Documentation

- [docs/STRATEGY1_REALITY_CHECK.md](../../docs/STRATEGY1_REALITY_CHECK.md) - Full analysis of why Strategy 1 doesn't work
- [docs/WIN_RATE_ANALYSIS_SUMMARY.md](../../docs/WIN_RATE_ANALYSIS_SUMMARY.md) - Original Oct-Dec 2024 analysis

## Data Requirements

These scripts require historical watchlist data:
- Location: `scanner_results/historical_simulation/nasdaq100/`
- Generated by: `src/generate_historical_reports.py`
- Format: Weekly watchlist Excel files with "Top Buy Setups" tab
